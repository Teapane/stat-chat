<div class='container'>
  <div class='user-header'>
    <h1 style="width:50%"><%= @user.nickname %><h1>
      <h3> Power Rank: <%= @user.rank %> </h3>
     <hr style="height:2px;width:100%;background-color:orange" />
  </div>

  <div class='row'>
    <div class='col-md-6'>
      <div class='widget stacked'>
        <div class='widget-header'>
          <i class='icon-bar-chart'></i>
          <h3>Power Ranking</h3>
        </div>
        <div class='widget-content'>
          <canvas id='ranking-chart' height='300px' width='530px'>
          </canvas>
        </div>
      </div>
    </div>
    <div class='col-md-6'>
      <div class='widget stacked'>
        <div class='widget-header'>
          <i class='icon-bar-chart'></i>
          <h3>Points Breakdown</h3>
        </div>
        <div class='widget-content'>
          <canvas id='points-chart' height='300px' width='530px'>
          </canvas>
        </div>
      </div>
    </div>

    <div class='badges'>
      <% @badges.each do |badge| %>
        <div class='badge' style='margin:2%'>
          <h4><%= badge.name %></h4>
          <%= image_tag badge.image %>
        </div>
      <% end %>
    </div>
  </div>
</div>

<script>
  $(function(){
  var data = [
    {
      value:  <%= @commit_points %>,
      color:"#F38630"
    },
    {
      value : 0,
      color : "#E0E4CC"
    },
    {
      value : 0,
      color : "#69D2E7"
    }     
  ]
  var ctx = $("#points-chart").get(0).getContext("2d");
  new Chart(ctx).Pie(data);
})
  
</script>

<script>
  $(function(){
    var data = {
      labels : ["January","February","March","April","May","June","July"],
      datasets : [
        {
          fillColor : "rgba(220,220,220,0.5)",
          strokeColor : "rgba(220,220,220,1)",
          pointColor : "rgba(220,220,220,1)",
          pointStrokeColor : "#fff",
          data : [65,59,90,81,56,55,40]
        },
        {
          fillColor : "rgba(151,187,205,0.5)",
          strokeColor : "rgba(151,187,205,1)",
          pointColor : "rgba(151,187,205,1)",
          pointStrokeColor : "#fff",
          data : [28,48,40,19,96,27,100]
        }
      ]
    }
    var ctx = $("#ranking-chart").get(0).getContext("2d");
    new Chart(ctx).Line(data);
  })  
</script>
